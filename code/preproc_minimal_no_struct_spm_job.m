%-----------------------------------------------------------------------
% Job saved on 14-Dec-2022 12:54:16 by cfg_util (rev $Rev: 7345 $)
% spm SPM - SPM12 (7771)
% cfg_basicio BasicIO - Unknown
%-----------------------------------------------------------------------
%%
matlabbatch{1}.spm.spatial.realign.estwrite.data = {
                                                    {
                                                    fullfile(pathSubject,'/nifti/bold.nii,1')
                                                     fullfile(pathSubject,'/nifti/bold.nii,2')
                                                     fullfile(pathSubject,'/nifti/bold.nii,3')
                                                     fullfile(pathSubject,'/nifti/bold.nii,4')
                                                     fullfile(pathSubject,'/nifti/bold.nii,5')
                                                     fullfile(pathSubject,'/nifti/bold.nii,6')
                                                     fullfile(pathSubject,'/nifti/bold.nii,7')
                                                     fullfile(pathSubject,'/nifti/bold.nii,8')
                                                     fullfile(pathSubject,'/nifti/bold.nii,9')
                                                     fullfile(pathSubject,'/nifti/bold.nii,10')
                                                     fullfile(pathSubject,'/nifti/bold.nii,11')
                                                     fullfile(pathSubject,'/nifti/bold.nii,12')
                                                     fullfile(pathSubject,'/nifti/bold.nii,13')
                                                     fullfile(pathSubject,'/nifti/bold.nii,14')
                                                     fullfile(pathSubject,'/nifti/bold.nii,15')
                                                     fullfile(pathSubject,'/nifti/bold.nii,16')
                                                     fullfile(pathSubject,'/nifti/bold.nii,17')
                                                     fullfile(pathSubject,'/nifti/bold.nii,18')
                                                     fullfile(pathSubject,'/nifti/bold.nii,19')
                                                     fullfile(pathSubject,'/nifti/bold.nii,20')
                                                     fullfile(pathSubject,'/nifti/bold.nii,21')
                                                     fullfile(pathSubject,'/nifti/bold.nii,22')
                                                     fullfile(pathSubject,'/nifti/bold.nii,23')
                                                     fullfile(pathSubject,'/nifti/bold.nii,24')
                                                     fullfile(pathSubject,'/nifti/bold.nii,25')
                                                     fullfile(pathSubject,'/nifti/bold.nii,26')
                                                     fullfile(pathSubject,'/nifti/bold.nii,27')
                                                     fullfile(pathSubject,'/nifti/bold.nii,28')
                                                     fullfile(pathSubject,'/nifti/bold.nii,29')
                                                     fullfile(pathSubject,'/nifti/bold.nii,30')
                                                     fullfile(pathSubject,'/nifti/bold.nii,31')
                                                     fullfile(pathSubject,'/nifti/bold.nii,32')
                                                     fullfile(pathSubject,'/nifti/bold.nii,33')
                                                     fullfile(pathSubject,'/nifti/bold.nii,34')
                                                     fullfile(pathSubject,'/nifti/bold.nii,35')
                                                     fullfile(pathSubject,'/nifti/bold.nii,36')
                                                     fullfile(pathSubject,'/nifti/bold.nii,37')
                                                     fullfile(pathSubject,'/nifti/bold.nii,38')
                                                     fullfile(pathSubject,'/nifti/bold.nii,39')
                                                     fullfile(pathSubject,'/nifti/bold.nii,40')
                                                     fullfile(pathSubject,'/nifti/bold.nii,41')
                                                     fullfile(pathSubject,'/nifti/bold.nii,42')
                                                     fullfile(pathSubject,'/nifti/bold.nii,43')
                                                     fullfile(pathSubject,'/nifti/bold.nii,44')
                                                     fullfile(pathSubject,'/nifti/bold.nii,45')
                                                     fullfile(pathSubject,'/nifti/bold.nii,46')
                                                     fullfile(pathSubject,'/nifti/bold.nii,47')
                                                     fullfile(pathSubject,'/nifti/bold.nii,48')
                                                     fullfile(pathSubject,'/nifti/bold.nii,49')
                                                     fullfile(pathSubject,'/nifti/bold.nii,50')
                                                     fullfile(pathSubject,'/nifti/bold.nii,51')
                                                     fullfile(pathSubject,'/nifti/bold.nii,52')
                                                     fullfile(pathSubject,'/nifti/bold.nii,53')
                                                     fullfile(pathSubject,'/nifti/bold.nii,54')
                                                     fullfile(pathSubject,'/nifti/bold.nii,55')
                                                     fullfile(pathSubject,'/nifti/bold.nii,56')
                                                     fullfile(pathSubject,'/nifti/bold.nii,57')
                                                     fullfile(pathSubject,'/nifti/bold.nii,58')
                                                     fullfile(pathSubject,'/nifti/bold.nii,59')
                                                     fullfile(pathSubject,'/nifti/bold.nii,60')
                                                     fullfile(pathSubject,'/nifti/bold.nii,61')
                                                     fullfile(pathSubject,'/nifti/bold.nii,62')
                                                     fullfile(pathSubject,'/nifti/bold.nii,63')
                                                     fullfile(pathSubject,'/nifti/bold.nii,64')
                                                     fullfile(pathSubject,'/nifti/bold.nii,65')
                                                     fullfile(pathSubject,'/nifti/bold.nii,66')
                                                     fullfile(pathSubject,'/nifti/bold.nii,67')
                                                     fullfile(pathSubject,'/nifti/bold.nii,68')
                                                     fullfile(pathSubject,'/nifti/bold.nii,69')
                                                     fullfile(pathSubject,'/nifti/bold.nii,70')
                                                     fullfile(pathSubject,'/nifti/bold.nii,71')
                                                     fullfile(pathSubject,'/nifti/bold.nii,72')
                                                     fullfile(pathSubject,'/nifti/bold.nii,73')
                                                     fullfile(pathSubject,'/nifti/bold.nii,74')
                                                     fullfile(pathSubject,'/nifti/bold.nii,75')
                                                     fullfile(pathSubject,'/nifti/bold.nii,76')
                                                     fullfile(pathSubject,'/nifti/bold.nii,77')
                                                     fullfile(pathSubject,'/nifti/bold.nii,78')
                                                     fullfile(pathSubject,'/nifti/bold.nii,79')
                                                     fullfile(pathSubject,'/nifti/bold.nii,80')
                                                     fullfile(pathSubject,'/nifti/bold.nii,81')
                                                     fullfile(pathSubject,'/nifti/bold.nii,82')
                                                     fullfile(pathSubject,'/nifti/bold.nii,83')
                                                     fullfile(pathSubject,'/nifti/bold.nii,84')
                                                     fullfile(pathSubject,'/nifti/bold.nii,85')
                                                     fullfile(pathSubject,'/nifti/bold.nii,86')
                                                     fullfile(pathSubject,'/nifti/bold.nii,87')
                                                     fullfile(pathSubject,'/nifti/bold.nii,88')
                                                     fullfile(pathSubject,'/nifti/bold.nii,89')
                                                     fullfile(pathSubject,'/nifti/bold.nii,90')
                                                     fullfile(pathSubject,'/nifti/bold.nii,91')
                                                     fullfile(pathSubject,'/nifti/bold.nii,92')
                                                     fullfile(pathSubject,'/nifti/bold.nii,93')
                                                     fullfile(pathSubject,'/nifti/bold.nii,94')
                                                     fullfile(pathSubject,'/nifti/bold.nii,95')
                                                     fullfile(pathSubject,'/nifti/bold.nii,96')
                                                     fullfile(pathSubject,'/nifti/bold.nii,97')
                                                     fullfile(pathSubject,'/nifti/bold.nii,98')
                                                     fullfile(pathSubject,'/nifti/bold.nii,99')
                                                     fullfile(pathSubject,'/nifti/bold.nii,100')
                                                     fullfile(pathSubject,'/nifti/bold.nii,101')
                                                     fullfile(pathSubject,'/nifti/bold.nii,102')
                                                     fullfile(pathSubject,'/nifti/bold.nii,103')
                                                     fullfile(pathSubject,'/nifti/bold.nii,104')
                                                     fullfile(pathSubject,'/nifti/bold.nii,105')
                                                     fullfile(pathSubject,'/nifti/bold.nii,106')
                                                     fullfile(pathSubject,'/nifti/bold.nii,107')
                                                     fullfile(pathSubject,'/nifti/bold.nii,108')
                                                     fullfile(pathSubject,'/nifti/bold.nii,109')
                                                     fullfile(pathSubject,'/nifti/bold.nii,110')
                                                     fullfile(pathSubject,'/nifti/bold.nii,111')
                                                     fullfile(pathSubject,'/nifti/bold.nii,112')
                                                     fullfile(pathSubject,'/nifti/bold.nii,113')
                                                     fullfile(pathSubject,'/nifti/bold.nii,114')
                                                     fullfile(pathSubject,'/nifti/bold.nii,115')
                                                     fullfile(pathSubject,'/nifti/bold.nii,116')
                                                     fullfile(pathSubject,'/nifti/bold.nii,117')
                                                     fullfile(pathSubject,'/nifti/bold.nii,118')
                                                     fullfile(pathSubject,'/nifti/bold.nii,119')
                                                     fullfile(pathSubject,'/nifti/bold.nii,120')
                                                     fullfile(pathSubject,'/nifti/bold.nii,121')
                                                     fullfile(pathSubject,'/nifti/bold.nii,122')
                                                     fullfile(pathSubject,'/nifti/bold.nii,123')
                                                     fullfile(pathSubject,'/nifti/bold.nii,124')
                                                     fullfile(pathSubject,'/nifti/bold.nii,125')
                                                     fullfile(pathSubject,'/nifti/bold.nii,126')
                                                     fullfile(pathSubject,'/nifti/bold.nii,127')
                                                     fullfile(pathSubject,'/nifti/bold.nii,128')
                                                     fullfile(pathSubject,'/nifti/bold.nii,129')
                                                     fullfile(pathSubject,'/nifti/bold.nii,130')
                                                     fullfile(pathSubject,'/nifti/bold.nii,131')
                                                     fullfile(pathSubject,'/nifti/bold.nii,132')
                                                     fullfile(pathSubject,'/nifti/bold.nii,133')
                                                     fullfile(pathSubject,'/nifti/bold.nii,134')
                                                     fullfile(pathSubject,'/nifti/bold.nii,135')
                                                     fullfile(pathSubject,'/nifti/bold.nii,136')
                                                     fullfile(pathSubject,'/nifti/bold.nii,137')
                                                     fullfile(pathSubject,'/nifti/bold.nii,138')
                                                     fullfile(pathSubject,'/nifti/bold.nii,139')
                                                     fullfile(pathSubject,'/nifti/bold.nii,140')
                                                     fullfile(pathSubject,'/nifti/bold.nii,141')
                                                     fullfile(pathSubject,'/nifti/bold.nii,142')
                                                     fullfile(pathSubject,'/nifti/bold.nii,143')
                                                     fullfile(pathSubject,'/nifti/bold.nii,144')
                                                     fullfile(pathSubject,'/nifti/bold.nii,145')
                                                     fullfile(pathSubject,'/nifti/bold.nii,146')
                                                     fullfile(pathSubject,'/nifti/bold.nii,147')
                                                     fullfile(pathSubject,'/nifti/bold.nii,148')
                                                     fullfile(pathSubject,'/nifti/bold.nii,149')
                                                     fullfile(pathSubject,'/nifti/bold.nii,150')
                                                     fullfile(pathSubject,'/nifti/bold.nii,151')
                                                     fullfile(pathSubject,'/nifti/bold.nii,152')
                                                     fullfile(pathSubject,'/nifti/bold.nii,153')
                                                    }
                                                    }';
%%
matlabbatch{1}.spm.spatial.realign.estwrite.eoptions.quality = 0.9;
matlabbatch{1}.spm.spatial.realign.estwrite.eoptions.sep = 4;
matlabbatch{1}.spm.spatial.realign.estwrite.eoptions.fwhm = 5;
matlabbatch{1}.spm.spatial.realign.estwrite.eoptions.rtm = 1;
matlabbatch{1}.spm.spatial.realign.estwrite.eoptions.interp = 4;
matlabbatch{1}.spm.spatial.realign.estwrite.eoptions.wrap = [0 0 0];
matlabbatch{1}.spm.spatial.realign.estwrite.eoptions.weight = '';
matlabbatch{1}.spm.spatial.realign.estwrite.roptions.which = [2 1];
matlabbatch{1}.spm.spatial.realign.estwrite.roptions.interp = 4;
matlabbatch{1}.spm.spatial.realign.estwrite.roptions.wrap = [0 0 0];
matlabbatch{1}.spm.spatial.realign.estwrite.roptions.mask = 1;
matlabbatch{1}.spm.spatial.realign.estwrite.roptions.prefix = 'r';
matlabbatch{2}.spm.spatial.preproc.channel.vols(1) = cfg_dep('Realign: Estimate & Reslice: Mean Image', substruct('.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','rmean'));
matlabbatch{2}.spm.spatial.preproc.channel.biasreg = 0.001;
matlabbatch{2}.spm.spatial.preproc.channel.biasfwhm = 60;
matlabbatch{2}.spm.spatial.preproc.channel.write = [1 1];
matlabbatch{2}.spm.spatial.preproc.tissue(1).tpm = {fullfile(pathSPM,'/tpm/TPM.nii,1')};
matlabbatch{2}.spm.spatial.preproc.tissue(1).ngaus = 1;
matlabbatch{2}.spm.spatial.preproc.tissue(1).native = [1 0];
matlabbatch{2}.spm.spatial.preproc.tissue(1).warped = [0 1];
matlabbatch{2}.spm.spatial.preproc.tissue(2).tpm = {fullfile(pathSPM,'/tpm/TPM.nii,2')};
matlabbatch{2}.spm.spatial.preproc.tissue(2).ngaus = 1;
matlabbatch{2}.spm.spatial.preproc.tissue(2).native = [1 0];
matlabbatch{2}.spm.spatial.preproc.tissue(2).warped = [0 1];
matlabbatch{2}.spm.spatial.preproc.tissue(3).tpm = {fullfile(pathSPM,'/tpm/TPM.nii,3')};
matlabbatch{2}.spm.spatial.preproc.tissue(3).ngaus = 2;
matlabbatch{2}.spm.spatial.preproc.tissue(3).native = [1 0];
matlabbatch{2}.spm.spatial.preproc.tissue(3).warped = [0 1];
matlabbatch{2}.spm.spatial.preproc.tissue(4).tpm = {fullfile(pathSPM,'/tpm/TPM.nii,4')};
matlabbatch{2}.spm.spatial.preproc.tissue(4).ngaus = 3;
matlabbatch{2}.spm.spatial.preproc.tissue(4).native = [1 0];
matlabbatch{2}.spm.spatial.preproc.tissue(4).warped = [0 0];
matlabbatch{2}.spm.spatial.preproc.tissue(5).tpm = {fullfile(pathSPM,'/tpm/TPM.nii,5')};
matlabbatch{2}.spm.spatial.preproc.tissue(5).ngaus = 4;
matlabbatch{2}.spm.spatial.preproc.tissue(5).native = [1 0];
matlabbatch{2}.spm.spatial.preproc.tissue(5).warped = [0 0];
matlabbatch{2}.spm.spatial.preproc.tissue(6).tpm = {fullfile(pathSPM,'/tpm/TPM.nii,6')};
matlabbatch{2}.spm.spatial.preproc.tissue(6).ngaus = 2;
matlabbatch{2}.spm.spatial.preproc.tissue(6).native = [0 0];
matlabbatch{2}.spm.spatial.preproc.tissue(6).warped = [0 0];
matlabbatch{2}.spm.spatial.preproc.warp.mrf = 1;
matlabbatch{2}.spm.spatial.preproc.warp.cleanup = 1;
matlabbatch{2}.spm.spatial.preproc.warp.reg = [0 0.001 0.5 0.05 0.2];
matlabbatch{2}.spm.spatial.preproc.warp.affreg = 'mni';
matlabbatch{2}.spm.spatial.preproc.warp.fwhm = 0;
matlabbatch{2}.spm.spatial.preproc.warp.samp = 3;
matlabbatch{2}.spm.spatial.preproc.warp.write = [0 1];
matlabbatch{2}.spm.spatial.preproc.warp.vox = NaN;
matlabbatch{2}.spm.spatial.preproc.warp.bb = [NaN NaN NaN
                                              NaN NaN NaN];
matlabbatch{3}.spm.spatial.normalise.write.subj.def(1) = cfg_dep('Segment: Forward Deformations', substruct('.','val', '{}',{2}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','fordef', '()',{':'}));
matlabbatch{3}.spm.spatial.normalise.write.subj.resample(1) = cfg_dep('Segment: Bias Corrected (1)', substruct('.','val', '{}',{2}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','channel', '()',{1}, '.','biascorr', '()',{':'}));
matlabbatch{3}.spm.spatial.normalise.write.woptions.bb = [-78 -112 -70
                                                          78 76 85];
matlabbatch{3}.spm.spatial.normalise.write.woptions.vox = [1 1 1];
matlabbatch{3}.spm.spatial.normalise.write.woptions.interp = 4;
matlabbatch{3}.spm.spatial.normalise.write.woptions.prefix = 'w';
matlabbatch{4}.spm.spatial.smooth.data(1) = cfg_dep('Realign: Estimate & Reslice: Resliced Images (Sess 1)', substruct('.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','sess', '()',{1}, '.','rfiles'));
matlabbatch{4}.spm.spatial.smooth.fwhm = [3 3 3];
matlabbatch{4}.spm.spatial.smooth.dtype = 0;
matlabbatch{4}.spm.spatial.smooth.im = 0;
matlabbatch{4}.spm.spatial.smooth.prefix = 's';
